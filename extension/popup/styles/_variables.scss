// =====================================================
// DESIGN TOKENS & CSS CUSTOM PROPERTIES
// =====================================================

:root {
    // Primary Blue Scheme
    --color-blue: #037AFB;
    --color-blue-hover: #0369d6; // ~10% darker

    // Error/Stop Red Scheme
    --color-red: #FF3B42;
    --color-red-hover: #d32f2f; // ~10% darker

    // Success Green Scheme
    --color-green: #00CA55;
    --color-green-hover: #029944; // ~10% darker

    // Warning Orange Scheme
    --color-orange: #FF8738;
    --color-orange-hover: #e06d1a; // ~10% darker

    --color-yellow: #FFCF30;
    --color-yellow-hover: #e6b82a; // ~10% darker

    --color-purple: #DD31E8;
    --color-purple-hover: #c22bcc; // ~10% darker
    
    // Dark Theme
    --bg-primary-dark: #252525;
    --bg-primary-dark-hover: #303030;
    --bg-secondary-dark: #1E1E1E;
    --bg-selected-dark: #393939;
    --bg-selected-dark-hover: #5D5D5D;

    --border-primary-dark: #61616133;

    --text-primary-dark: #FAFAFA;
    --text-secondary-dark: #999;
    --text-secondary-dark-hover: #FAFAFA;

    // Light Theme
    --bg-primary-light: #FFF;
    --bg-primary-light-hover: #f0f0f0; // counterpart to --bg-primary-dark-hover
    --bg-secondary-light: #f5f5f5;
    --bg-selected-light: #e6e6e6; // counterpart to --bg-selected-dark
    --bg-selected-light-hover: #dcdcdc; // counterpart to --bg-selected-dark-hover

    --bg-element-light: rgb(232 232 237 / 70%);
    --bg-element-hover-light: rgb(232, 232, 237);
    --bg-element-active-light: rgb(211 211 215);

    --text-primary-light: #1d1d1d;
    --text-secondary-light: #797979;
    --text-secondary-light-hover: #999;

    // Use a color-only var for borders (dark uses color-only too)
    --border-primary-light: #0000001a; // semi-transparent dark border to mirror --border-primary-dark

    --backdrop-filter: saturate(180%) blur(20px);
    --bg-backdrop-light: rgba(255, 255, 255, 0.6);
    --bg-backdrop-dark: rgba(0, 0, 0, 0.6);
    
    // Transition Timings
    --transition-fast: 0.1s ease;
    --transition-normal: 0.2s ease;
    --transition-slow: 0.3s ease;

    // Font Sizes
    --font-h1: 16px;
    --font-h2: 12px;
    --font-body: 11px;
    --font-badge: 8px;
}

// =====================================================
// SHARED THEME MIXINS
// =====================================================

// Base interactive element styles
%interactive-base {
    cursor: pointer;
    user-select: none;
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
}

// Theme-aware background patterns for INTERACTIVE elements
%theme-bg-primary {
    .theme-dark & {
        background-color: var(--bg-primary-dark-hover);
        border: 1px solid var(--border-primary-dark);
        
        &:hover:not(:disabled) {
            background-color: var(--bg-selected-dark-hover);
        }
    }
    
    .theme-light & {
        background-color: var(--bg-element-light);
        border: 1px solid var(--border-primary-light);
        
        &:hover:not(:disabled) {
            background-color: var(--bg-element-hover-light);
        }
        
        &:active:not(:disabled) {
            background-color: var(--bg-element-active-light);
        }
    }
}

// Theme-aware background patterns for NON-INTERACTIVE elements (no hover states)
%theme-bg-static {
    .theme-dark & {
        background-color: var(--bg-secondary-dark);
        border: 1px solid var(--border-primary-dark);
        color: var(--text-primary-dark);
    }
    
    .theme-light & {
        background-color: var(--bg-element-light);
        color: var(--text-primary-light);
        border: 1px solid var(--border-primary-light);
    }
}

// Theme-aware text colors
%theme-text-primary {
    .theme-dark & {
        color: var(--text-primary-dark);
    }
    
    .theme-light & {
        color: var(--text-primary-light);
    }
}

%theme-text-secondary {
    .theme-dark & {
        color: var(--text-secondary-dark);
    }
    
    .theme-light & {
        color: var(--text-secondary-light);
    }
}

// Validation state mixins
%validation-error {
    border-color: var(--color-red);
    box-shadow: 0 0 0 2px rgba(255, 59, 66, 0.2);
    
    .theme-dark &,
    .theme-light & {
        background-color: rgba(255, 59, 66, 0.1);
    }
}

%validation-success {
    border-color: var(--color-green);
    box-shadow: 0 0 0 2px rgba(0, 202, 85, 0.2);
    
    .theme-dark &,
    .theme-light & {
        background-color: rgba(0, 202, 85, 0.1);
    }
}

// Backdrop/overlay patterns
%theme-backdrop {
    backdrop-filter: var(--backdrop-filter);
    
    .theme-dark & {
        background: var(--bg-backdrop-dark);
        border: 1px solid var(--border-primary-dark);
    }
    
    .theme-light & {
        background: var(--bg-backdrop-light);
    }
}

// Subtle interactive background pattern (for icons, badges, etc.)
%theme-subtle-interactive {
    @extend %theme-text-secondary;
    transition: all var(--transition-normal);
    
    .theme-dark & {
        background-color: rgba(255, 255, 255, 0.15);
        
        &:hover:not(:disabled) {
            background-color: rgba(255, 255, 255, 0.25);
            color: var(--text-primary-dark);
        }
    }
    
    .theme-light & {
        background-color: rgba(0, 0, 0, 0.1);
        
        &:hover:not(:disabled) {
            background-color: rgba(0, 0, 0, 0.15);
            color: var(--text-primary-light);
        }
    }
}

// Scrollbar theming
%theme-scrollbar {
    scrollbar-width: none;
    
    &::-webkit-scrollbar {
        width: 6px;
        height: 6px;
        
        &-track {
            background: transparent;
        }
        
        &-thumb {
            border-radius: 3px;
            
            .theme-dark & {
                background: #444;
                
                &:hover {
                    background: #555;
                }
            }
            
            .theme-light & {
                background: #ccc;
                
                &:hover {
                    background: #aaa;
                }
            }
        }
    }
}
